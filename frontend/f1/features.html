<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="row g-4 justify-content-center">

    <div class="col-lg-3 col-md-6">
        <div class="card h-100 shadow-lg custom-card card-lessons">
            <div class="card-body text-center d-flex flex-column">
                <i class="fa-solid fa-book-open card-icon"></i>
                <h2 class="card-title mt-3">Lessons</h2>
                <p class="card-text mt-2">Start your learning journey. Pick a topic and dive in!</p>
                <a href="./5page.html" class="btn btn-light mt-auto">Browse Lessons</a>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6">
        <div class="card h-100 shadow-lg custom-card card-challenges">
            <div class="card-body text-center d-flex flex-column">
                <i class="fa-solid fa-gamepad card-icon"></i>
                <h2 class="card-title mt-3">Challenges</h2>
                <p class="card-text mt-2">Ready to test your skills? A new challenge awaits.</p>
                <a href="./play.html" class="btn btn-light mt-auto btn-play">▶ Play Now</a>
            </div>
        </div>
    </div>

    <!-- New Tasks Option -->
    <div class="col-lg-3 col-md-6">
        <div class="card h-100 shadow-lg custom-card card-tasks">
            <div class="card-body text-center d-flex flex-column">
                <i class="fa-solid fa-list-check card-icon"></i>
                <h2 class="card-title mt-3">Tasks</h2>
                <p class="card-text mt-2">View and complete your assigned tasks.</p>
                <a href="./task.html" class="btn btn-light mt-auto">Go to Tasks</a>
            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
   document.addEventListener("DOMContentLoaded", async () => {
    const STUDENT_ID = localStorage.getItem("studentId"); // from login/localStorage
    if (!STUDENT_ID) return;

    try {
        const res = await fetch(`http://127.0.0.1:5000/api/student/${STUDENT_ID}`);
        const data = await res.json();

        // Update Credit Points
        const pointsBadge = document.querySelector(".badge.bg-warning");
        if (pointsBadge) pointsBadge.textContent = `Credit Points: ${data.points} ⭐`;

        // Update Achievement Badges
        const badgeContainer = document.querySelector(".achievement-badge").parentNode;
        badgeContainer.innerHTML = ""; // clear existing icons
        data.badges.forEach(badge => {
            const icon = document.createElement("i");
            icon.className = "fa-solid fa-award achievement-badge"; // you can customize per badge
            icon.title = badge;
            badgeContainer.appendChild(icon);
        });
    } catch (err) {
        console.error("Failed to fetch student achievements:", err);
    }
});
</script>
    <script src="script.js"></script>
</body>
</html>